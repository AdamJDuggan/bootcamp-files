(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1107:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return y});var u=n(0),i=n.n(u),r=n(16),o=n(8),s=n(62),l=n(100);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,c,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};(c=m||(m={})).StaticRoute="StaticRoute",c.DynamicRoute="DynamicRoute";var y=function(e){var c=e.routeType;return function(a){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,h(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(){c===m.DynamicRoute?this.props.dynamicRouteComponentUpdated({}):this.props.staticRouteComponentUpdated({})}},{key:"render",value:function(){var e=this.props,t=(e.dynamicRouteComponentUpdated,e.staticRouteComponentUpdated,b(e,["dynamicRouteComponentUpdated","staticRouteComponentUpdated"]));return i.a.createElement(a,Object.assign({},t))}}])&&p(n.prototype,r),o&&p(n,o),t}();e.displayName="TrackRouteUpdates(".concat(Object(l.a)(a),")");var t=Object(s.b)()({dynamicRouteComponentUpdated:o.a.DynamicRouteComponentUpdated,staticRouteComponentUpdated:o.a.StaticRouteComponentUpdated});return Object(r.connect)(function(){return{}},t)(e)}}},1120:function(e,t,n){"use strict";var r=n(10),o=n.n(r),a=n(2),c=n(0),u=n.n(c),i=n(5),s=n.n(i),l=n(354),p=n(1121),f=n.n(p),h=n(277),d=n(1122),m=n.n(d),b=s()({Placeholders:Object(i.ofType)(),Content:Object(i.ofType)()}),y=function(e){return u.a.createElement("h1",Object.assign({},e))},O=function(e){var t=e.className,n=e.innerClassName,r=b.is.Placeholders(e);return u.a.createElement("div",{className:o()(m.a.container,t)},u.a.createElement("div",{className:n},u.a.createElement(h.c,Object.assign({contentComponent:y},r?{isPlaceholder:!0}:{isPlaceholder:!1},{className:m.a.title,"data-test":l.k}),b.match({Placeholders:function(e){var t=e.titleMaxWidth;return u.a.createElement("div",{className:f.a.placeholderText,style:{maxWidth:a.a.of(t).getOrElse(200)}})},Content:function(e){return e.title}})(e)),u.a.createElement("div",{className:m.a.children},b.match({Placeholders:function(e){var t=e.childrenMaxWidth;return u.a.createElement("div",{className:f.a.placeholderText,style:{maxWidth:a.a.of(t).getOrElse(200)}})},Content:function(e){return e.children}})(e))))},g=function(e){return u.a.createElement(O,Object.assign({},b.Content(e)))},v=O;n.d(t,"b",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return v})},1121:function(e,t,n){e.exports={colorLightGrey:"#ddd",placeholderBackground:"_2VWD4",placeholderAnimation:"_2AX6I",placeholderText:"J3VG_ _2VWD4"}},1122:function(e,t,n){e.exports={container:"_2v9nm _2sCnE PrOBO","sm-col-8":"_1pgnK","sm-col-10":"_3zWw2","md-col-6":"_5KnKv","md-col-8":"_2Mu9I","--sm-min":"(--sm-min)",headingL:"_2RmO0",bodyCopy:"_1iWCF",title:"_1GUcz _2RmO0 _3zWw2 _2Mu9I",children:"_3NchO _1iWCF _1pgnK _5KnKv"}},1238:function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return c});var s=n(2),r=n(3),l=n.n(r),p=n(278),f=n(8),h=n(35),d=n(132),o=n(25),m=n(470),a=n(447);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var y=l()(function(e){return Object.assign({},e,{searchSubRoute:o.d.photos})},o.c.Search,a.c),O=function(e){return{results:e.results,total:e.total,lastPageFetched:1,maxPage:e.total_pages}},c=function(i){return function(e){var t,a,c,n,r=e.routeData,o=e.searchXps,u=e.isHistoryNavigation;return l()((n=i,function(e){return n.search.getSearchAll(Object.assign({},e,{perPage:m.b}))}),Object(p.a)((a=(t={routeData:r,isHistoryNavigation:u}).routeData,c=t.isHistoryNavigation,function(e){var t=Object(d.f)(e),n=t.result,r=t.entities,o=O(n.collections);return[Object(f.ib)(r),Object(f.z)({collectionIds:o.results,isLoading:!1,lastPageFetched:o.lastPageFetched,maxPage:o.maxPage,perPage:m.b}),Object(f.kb)({relatedKeywords:n.related_searches,photos:{total:n.photos.total},query:a.query,users:O(n.users),collections:{total:n.collections.total},meta:s.a.of(n.meta)})].concat(b(Object(h.a)([c?s.a.none():s.a.some(f.a.AddPhotoFeed({feedId:y(a),perPage:m.b,photoIds:n.photos.results,lastPageFetched:1,total:n.photos.total}))])))})))({query:r.query,searchXps:o})}}},1412:function(e,t,n){e.exports={placeholderBackground:"_2VWD4","--sm-min":"(--sm-min)","--xs-max":"(--xs-max)",colorWhite:"#fff",colorLightBlack:"#111",bodyCopy:"_1iWCF",textDecorationNone:"_1CBrG",fontWeightMedium:"xLon9",searchLink:"_39jII _1CBrG",searchLinkActive:"_3sixz",searchNumber:"_3vsmH _1iWCF xLon9",label:"_3CrUz _1iWCF",contentPlaceholder:"_3fzo- _2VWD4"}},1414:function(e,t,n){e.exports={"--sm-min":"(--sm-min)",filterNavContainer:"_381-n"}},1416:function(e,t,n){e.exports={container:"Rj-P_ _2sCnE PrOBO",clearfix:"H0W_R _2KLco","--sm-min":"(--sm-min)",bodyCopy:"_1iWCF",fontWeightNormal:"_27Bp2",searchHeaderContainer:"PlFEu",pageHeaderContainer:"BmYLG",pageHeaderChildren:"_1u88E _1iWCF _27Bp2"}},668:function(e,t,n){"use strict";n.r(t);var r=n(243),d=n.n(r),o=n(10),i=n.n(o),m=n(2),a=n(3),c=n.n(a),u=n(0),s=n.n(u),l=n(192),p=n.n(l),f=n(16),h=n(8),b=n(66),y=n(6),O=n(73),g=n(1107),v=n(446),j=n(447),P=n(285),_=n(27),C=n(177),S=n(1120),E=n(5),D=n.n(E),x=n(1585),w=n(241),N=n(11),R=n(354),q=n(277),T=n(457),k=n(1412),W=n.n(k),L=D()({Placeholder:Object(E.ofType)(),Content:Object(E.ofType)()}),F=function(e){var t=L.match({Content:function(e){var t=e.routeData,n=t.query,r=t.searchSubRoute,o=Object(w.a)(r)(n);return Object(q.a)(Object.assign({"data-test":Object(N.d)(r,R.p)},{activeClassName:W.a.searchLinkActive,to:{pathname:o}}))},Placeholder:function(){return Object(q.b)({})}})(e);return s.a.createElement(q.c,Object.assign({contentComponent:x.a,className:W.a.searchLink},t),L.match({Placeholder:function(){return s.a.createElement("div",{className:W.a.contentPlaceholder})},Content:function(e){var t=e.number,n=e.routeData.searchSubRoute;return s.a.createElement(u.Fragment,null,s.a.createElement(T.a,{number:t,className:W.a.searchNumber}),s.a.createElement("span",{className:W.a.label},d()(n)))}})(e))};F.displayName="SearchNavLink";var U=F,A=n(1414),H=n.n(A),I=D()({Placeholders:Object(E.ofType)(),Content:Object(E.ofType)()}),B=function(e){return s.a.createElement("div",{className:H.a.filterNavContainer},s.a.createElement(U,Object.assign({},I.match({Content:function(e){var t=e.routeData,n=e.photosTotal;return L.Content({routeData:{query:t.query,searchSubRoute:y.g.photos},number:n})},Placeholders:function(){return L.Placeholder({})}})(e))),s.a.createElement(U,Object.assign({},I.match({Content:function(e){var t=e.routeData,n=e.search;return L.Content({routeData:{query:t.query,searchSubRoute:y.g.collections},number:n.collections.total})},Placeholders:function(){return L.Placeholder({})}})(e))),s.a.createElement(U,Object.assign({},I.match({Content:function(e){var t=e.routeData,n=e.search;return L.Content({routeData:{query:t.query,searchSubRoute:y.g.users},number:n.users.total})},Placeholders:function(){return L.Placeholder({})}})(e))))};B.displayName="SearchNav";var z=B,K=n(1238),M=n(271),G=n.n(M),X=n(118),V=n(25),J=n(458),Q=n(17),Y="search-route",Z="pictures",$=function(e){return m.a.of(e.suffix).getOrElse(Z)},ee=function(e){var o=e.total,a=e.query,c=e.meta;return m.a.of(c.text).getOrElseL(function(){return t=(e={total:o,query:a,meta:c}).total,n=e.query,r=e.meta,"".concat(Object(Q.e)(t)," free ").concat(n," ").concat($(r));var e,t,n,r})},te=function(e){var u=e.routeData,t=e.maybeSearch,n=e.maybePhotosTotal;return m.a.map2(t,n,function(e,t){return{headerTitle:(n={routeData:u,search:e},r=n.routeData,o=n.search,a=r.query,c=o.meta,m.a.of(c.h1).getOrElseL(function(){switch(r.searchSubRoute){case y.g.photos:return"".concat(d()(a)," ").concat($(c));case y.g.collections:return"".concat(d()(a)," collections");case y.g.users:return d()(a)}})),text:function(e){var t=e.routeData,n=e.search,r=e.photosTotal,o=t.query,a=n.collections,c=n.users,u=n.meta;switch(t.searchSubRoute){case y.g.photos:return ee({total:r,query:o,meta:u});case y.g.collections:return"".concat(Object(Q.e)(a.total)," ").concat(o," collections");case y.g.users:return"".concat(Object(Q.e)(c.total)," users named ").concat(o)}}({routeData:u,search:e,photosTotal:t})};var n,r,o,a,c})},ne=c()(w.b,J.a),re=function(e){var t=e.routeData,n=e.maybeSearch,a=e.maybePhotosTotal,r=e.photosOption,c=t.query,o=t.searchSubRoute,u=n.map(function(e){return e.meta}),i=u.map($).getOrElse(Z),s=u.chain(function(e){return m.a.of(e.title)}).getOrElseL(function(){return t=(e={query:c,suffix:i}).query,n=e.suffix,"".concat(d.a.words(t)," ").concat(d()(n)," | Download Free Images on Unsplash");var e,t,n}),l=u.chain(function(e){return m.a.of(e.description)}).getOrElseL(function(){var e,t,n,r,o=Object(X.k)({total:a.getOrElse(0)});return t=(e={photoTotal:o,query:c,suffix:i}).photoTotal,n=e.query,r=e.suffix,"Download the perfect ".concat(n," ").concat(r,". Find over ").concat(t," of the best free ").concat(n," images. Free for commercial use ✓ No attribution required ✓ Copyright-free ✓")}),p=u.chain(function(e){return m.a.of(e.canonical)}).getOrElseL(function(){return ne(c)}),f=a.forAll(function(e){return 0===e}),h=u.exists(function(e){return!1===e.index})||f||o!==V.d.photos;return Object(X.h)({disableIndex:h,photosOption:r.map(function(e){return G()(e,4)}),title:s,description:l,canonicalUrl:p})},oe=n(1416),ae=n.n(oe);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=Object(O.a)({loader:function(){return n.e(36).then(n.bind(null,1568))},chunkName:"search-collections-route",resolve:function(){return 1568}}),he=Object(O.a)({loader:function(){return n.e(37).then(n.bind(null,1567))},chunkName:"search-users-route",resolve:function(){return 1567}}),de=Object(O.a)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(38)]).then(n.bind(null,1566))},chunkName:"search-photos-route",resolve:function(){return 1566}}),me=function(e){function t(){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(u=se(this,le(t).apply(this,arguments))).handleQueryUpdate=function(e){u.clearSearchResults();var t=u.props,n=t.searchXps,r=t.dispatch,o=t.history;void 0!==u.previousRequestSubscription&&u.previousRequestSubscription.unsubscribe();var a="POP"===o.action,c=Object(K.a)(b.a)({routeData:e,searchXps:n,isHistoryNavigation:a}).subscribe(function(e){r(h.a.RouteDataUpdated({})),r(h.a.BatchActions({actions:ue(e).concat([Object(h.o)()])}))});u.previousRequestSubscription=c},u}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.routeData,n=e.maybeSearch,r=e.photoFeedOption,o=e.renderType;if(v.a.is.Unenhanced(o)){var a=n.get();this.props.dispatch(Object(h.Y)({query:t.query,photos:{total:r.get().total},collections:a.collections,users:a.users}))}else this.handleQueryUpdate(t)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.routeData,n=e.routeData;t.query!==n.query&&this.handleQueryUpdate(n)}},{key:"clearSearchResults",value:function(){(0,this.props.dispatch)(h.a.BatchActions({actions:[Object(h.j)(),Object(h.z)()]}))}},{key:"renderSeoPageHeader",value:function(){var e=this.props,t=e.maybeSearch,n=e.routeData,r=e.photoFeedOption.map(function(e){return e.total}),o=te({routeData:n,maybeSearch:t,maybePhotosTotal:r}),a={className:ae.a.pageHeaderContainer},c=o.map(function(e){var t=e.headerTitle,n=e.text;return S.b.Content(Object.assign({},a,{title:t,children:s.a.createElement("p",{className:ae.a.pageHeaderChildren},n)}))}).getOrElse(S.b.Placeholders(Object.assign({},a,{titleMaxWidth:350,childrenMaxWidth:200})));return s.a.createElement(S.c,Object.assign({},c))}},{key:"renderLoggedInPageHeader",value:function(){var e=this.props.routeData.query;return s.a.createElement(S.a,{title:d()(e),className:ae.a.pageHeaderContainer})}},{key:"renderSearchSubroute",value:function(){var e=this.props.routeData,t=e.query;switch(e.searchSubRoute){case y.g.collections:return s.a.createElement(fe,{query:t});case y.g.users:return s.a.createElement(he,{query:t});case y.g.photos:return s.a.createElement(de,{routeData:e})}}},{key:"render",value:function(){var e=this.props,t=e.maybeSearch,n=e.isLoggedIn,r=e.routeData,o=e.photosOption,a=e.photoFeedOption.map(function(e){return e.total}),c=re({routeData:r,maybeSearch:t,maybePhotosTotal:a,photosOption:o}),u=m.a.map2(t,a,function(e,t){return I.Content({photosTotal:t,routeData:r,search:e})}).getOrElseL(function(){return I.Placeholders({})});return s.a.createElement("div",{"data-test":Y},s.a.createElement(p.a,Object.assign({},c)),s.a.createElement("div",{className:i()(ae.a.clearfix,ae.a.searchHeaderContainer)},n?this.renderLoggedInPageHeader():this.renderSeoPageHeader(),s.a.createElement("div",{className:ae.a.container},s.a.createElement(z,Object.assign({},u)))),this.renderSearchSubroute())}}])&&ie(n.prototype,r),o&&ie(n,o),t}();me.displayName="Search";var be=c()(Object(g.b)({routeType:g.a.DynamicRoute}),Object(f.connect)(function(e,t){var n=Object(K.b)(t.routeData);return{photoFeedOption:Object(j.d)(e,n),photosOption:Object(j.b)(e,n),maybeSearch:Object(P.b)(e),searchXps:Object(C.b)(e),isLoggedIn:Object(_.k)(e)}}),v.b)(me);n.d(t,"default",function(){return be})}}]);
//# sourceMappingURL=search-route.4d3a0.js.map